const flattenedArray = arr => [].concat(...arr);
const results = await Promise.all(resultingPromises);